*,
*:before,
*:after
{
  box-sizing: border-box;
  min-height: 0; // NOTE: needed for slick carousel
  min-width: 0; // NOTE: needed for slick carousel
}

*::selection
{
  background: $neutral-lightest;
  color: $neutral-darkest;
  -webkit-text-fill-color: $neutral-darkest;
}

:focus
{
  @include focus-default;
}

html
{
  height: 100%;
}

body
{
  position: fixed;
  width: 100%;
  height: 100%;
  margin: 0;
  background: $neutral-lightest;
  color: $neutral-lightest;
  font-family: $font-family-body;
  font-size: $fs-body;
  font-weight: $font-weight-subtle;
  line-height: 1.5;
}

.app
{
  height: 100%;
}

.app-container
{
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto 1fr auto;
  grid-template-areas: 
    'header'
    'main'
    'footer';
  width: 100%;
  height: 100%;
  margin: 0;
  overflow: hidden;
}

.app-header
{
  grid-area: header;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: $space-xs solid $neutral-darkest;
  padding: $space-3x;
}

.cta-logo
{
  display: inline-flex;
}

.logo
{
  width: $space-6x;
}

.menu-toggle
{
  position: absolute;
  right: $space-3x;
  z-index: 2;
  align-self: flex-end;

  &.collapsed
  {
    margin-top: $space-3x;
    z-index: 5;
  }
}

.app-main
{
  grid-area: main;
  padding: $space-3x;
  overflow-y: auto;
  background: $neutral-darkest;
}

.section
{
  display: grid;
  grid-template-columns: minmax(auto, 90rem);
  grid-template-rows: auto auto auto;
  grid-template-areas: 
    'title'
    'tl'
    'br';
  justify-content: center;
  gap: $space-3x;

  &-projects
  {
    display: grid;
    grid-template-columns: 100%;
    grid-template-rows: auto auto auto;
    grid-template-areas: 
      'title'
      'filters'
      'projects';
    justify-content: center;
    gap: $space-3x;
  }

  &-404
  {
    display: grid;
    grid-template-columns: minmax(auto, 90rem);
    grid-template-rows: auto auto auto;
    grid-template-areas: 
      'title'
      'br'
      'tl';
    justify-content: center;
    gap: $space-3x;
  }
}

.app-footer
{
  grid-area: footer;
  padding: $space-xs $space-3x;
  color: $neutral-darkest;
}

[inert="true"]
{
  pointer-events: none;
  cursor: default;
}

.nav-on-canvas
{
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 0;
  background: $neutral-lightest;
  z-index: 4;
  -ms-transform: translateX(100%);
  -webkit-transform: translateX(100%);
  -moz-transform: translateX(100%);
  -o-transform: translateX(100%);
  transform: translateX(100%);
  transition: transform .5s cubic-bezier(.07, .23, .34, 1);
}

.nav
{
  flex-grow: 1;
  overflow-y: auto;
}

.nav-list
{
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin: $space-12x 0 0;
  padding: 0 $space-4x $space-4x;
}

.nav-item
{
  list-style-type: none;
}

.nav-link
{
  display: inline-block;
  margin: $space-2x 0;
  border-bottom: $space-xs solid transparent;
  color: $neutral-darkest;
  font-family: $font-family-heading;
  font-size: $fs-2;
  text-decoration: none;
  line-height: 1.5;

  &:hover,
  &:focus,
  &:active,
  &.active
  {
    border-color: $neutral-darkest;
    @include gradient-text;
    text-decoration: none;
  }
}

// when nav is open
.menu-is-open
{
  &::before
  {
    position: absolute;
    width: 100%;
    height: 100%;
    background: $neutral-darkest;
    content: "";
    opacity: 0.6;
    z-index: 3;
  }

  .nav-on-canvas
  {
    -ms-transform: translateX(0);
    -webkit-transform: translateX(0);
    -moz-transform: translateX(0);
    -o-transform: translateX(0);
    transform: translateX(0);
  }
}

// global page layout

h1
{
  grid-area: title;
}

.tl
{
  grid-area: tl;
}

.br
{
  grid-area: br;

  & > *:first-child
  {
    margin-top: 0;
  }
}

// projects page

.projects
{
  display: grid;
  grid-gap: $space-3x;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  grid-auto-flow: dense;
}

// project page & info

.image
{
  display: block;
  width: 100%;
  height: auto;
}

// info

.nav-social
{
  display: flex;
  flex-wrap: wrap;
  gap: $space-2x;
  margin-top: $space-2x;

  .cta-icon
  {
    border-color: $neutral-lightest;
    background: $neutral-darkest;
    color: $neutral-lightest;

    &:hover
    {
      border-color: transparent;
      background: $accent-primary;
      color: $neutral-lightest;
    }

    &:focus
    {
      @include focus-ghost;
    }
  }
}

@media only screen and (min-width: 768px)
{
  .nav-on-canvas
  {
    width: $menu-width;
  }

  .nav
  {
    border-left: $space-xs solid $neutral-darkest;
  }

  .section
  {
    display: grid;
    grid-template-columns: minmax(auto, 50%) minmax(auto, 90rem);
    grid-template-rows: auto 1fr;
    grid-template-areas: 
      'tl title'
      'tl br';
    justify-content: center;
    column-gap: $space-3x;

    &-404
    {
      // grid-template-columns: minmax(auto, 50%) minmax(auto, 90rem);
      grid-template-rows: auto 1fr;
      grid-template-areas: 
        'tl title'
        'tl br';
    }
  }
}